<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	  <link rel="icon" href="images/favicon.ico" type="image/ico" />

    <title>VLAB Monitoring GUI</title>

    <!-- Bootstrap -->
    <!-- link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link href="../gui/css/dashboard.css" rel="stylesheet">

    <!-- Font Awesome -->
    <!-- link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet" -->
    <!-- link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous" -->
    
    <!-- NProgress -->
    <!-- link href="../vendors/nprogress/nprogress.css" rel="stylesheet" -->
    <!-- link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css" /-->
    <!-- iCheck -->
    <!-- link href="../vendors/iCheck/skins/flat/green.css" rel="stylesheet" -->
	
    <!-- bootstrap-progressbar -->
    <!-- link href="../vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" -->
    <!-- JQVMap -->
    <!-- link href="../vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/ -->
    <!-- bootstrap-daterangepicker -->
    <!-- link href="../vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet"-->

    <!-- Custom Theme Style -->
  </head>

  <body class="nav-md">
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRnJgmthvE81Am0O8pEPhMGrlbTV1Tnko7Zk43-PSRBzsRJoMG6" width="30" height="30" class="d-inline" >
            Red Baron
        </a>
        <div class="form-group row robot-select-div">
          <label for="robot" class="robot-select-label">Server/Robot URL for Requests: </label>
          <div class="robot-select">
            <select id="robot-ip">
              <option value="local" selected="selected">127.0.0.1</option>
              <option value="vlab1">vlab1.dyndns.org</option>
              <option value="vlab2">vlab2.dyndns.org</option>
              <option value="vlab3">vlab3.dyndns.org</option>
            </select>
          </div>
        </div>
        <ul class="navbar-nav px-3">
            <li class="nav-item text-nowrap">
                <a class="nav-link" href="#">Sign out</a>
            </li>
        </ul>
    </nav>

    <div class="container-fluid">
            <div class="row">
              <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                <div class="sidebar-sticky">
                  <ul id="monitoType" class="nav flex-column" myValue="None">
                    <li class="monitohead">
                      <!--a class="monitohead" href="#"-->
                        <!--span data-feather="home"></span-->
                        Monitoring Type <span class="sr-only">(current)</span>
                      <!--/a-->
                    </li>
                    <li class="externamonit">
                      <!--a class="nav-link externamonit" href="#"-->
                      <input type="checkbox" id="extm" style="vertical-align: middle" autocomplete="off">
                        <!--span data-feather="layers" onclick="play_external_monitoring()"></span-->
                        <label for="extm" style="padding-left: 8px">External Monitoring</label>
                      </a>
                    </li>
                    <li class="internamonit">
                      <!--a class="nav-link internamonit" href="#"-->
                        <input type="checkbox" id="inerm" style="vertical-align: middle" autocomplete="off">
                        <!--span data-feather="layers" onclick="play_internal_monitoring()"></span-->
                        <label for="inerm" style="padding-left: 8px">Internal Monitoring</label>
                      </a>
                    </li>

                    <li class="vertical-spacer">
                      <label></label>
                    </li>

                    <li class="monitohead">
                      <!--a class="monitohead" href="#"-->
                        <!--span data-feather="home"></span-->
                        Monitored Entities <span class="sr-only">(current)</span>
                      <!--/a-->
                    </li>
                    

                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="file"></span>
                        Servers
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="shopping-cart" onclick="hide()">Boards</span>
                        Boards
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="users" onclick="list_all_vms()">VMs</span>
                        VMs
                      </a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="#">
                        <span data-feather="bar-chart-2" onclick="list_all_services()"></span>
                        Services
                      </a>
                    </li>
                  </ul>

                  <li class="monitohead">
                    <!--a class="monitohead" href="#"-->
                      <!--span data-feather="home"></span-->
                      Administrative Actions <span class="sr-only">(current)</span>
                    <!--/a-->
                  </li>
                  <li class="externamonit">
                    <!--a class="nav-link externamonit" href="#"-->
                    <input type="checkbox" id="extm" style="vertical-align: middle" autocomplete="off" onclick="onPingIP()">
                      <!--span data-feather="layers" onclick="play_external_monitoring()"></span-->
                      <label for="extm" style="padding-left: 8px">Ping Host</label>
                    </a>
                  </li>
                  <li class="externamonit">
                    <!--a class="nav-link externamonit" href="#"-->
                    <input type="checkbox" id="extm" style="vertical-align: middle" autocomplete="off" onclick="onScanPorts()">
                      <!--span data-feather="layers" onclick="play_external_monitoring()"></span-->
                      <label for="extm" style="padding-left: 8px">Scan Open Ports</label>
                    </a>
                  </li>
  
                  <li class="internamonit">
                    <!--a class="nav-link internamonit" href="#"-->
                      <input type="checkbox" id="inerm" style="vertical-align: middle" autocomplete="off">
                      <!--span data-feather="layers" onclick="play_internal_monitoring()"></span-->
                      <label for="inerm" style="padding-left: 8px">Bring Server Down</label>
                    </a>
                  </li>
                  <li class="internamonit">
                    <!--a class="nav-link internamonit" href="#"-->
                      <input type="checkbox" id="inerm" style="vertical-align: middle" autocomplete="off">
                      <!--span data-feather="layers" onclick="play_internal_monitoring()"></span-->
                      <label for="inerm" style="padding-left: 8px">Stop Service</label>
                    </a>
                  </li>


                  <h6 id="entitiesL" class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>Saved reports</span>
                    <a class="d-flex align-items-center text-muted" href="#">
                        <span data-feather="plus-circle"></span>
                    </a>
                  </h6>
                      
                  <ul id="reportFreq" class="nav flex-column mb-2" myValue="">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                          <span data-feather="file-text"></span>
                          Current month
                        </a>
                    </li>
                        
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            Last week
                        </a>
                    </li>
                        
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="file-text" onclick="set_daily_frequency()"></span>
                            Last Day
                        </a>
                    </li>
                        
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            Last Quarter
                        </a>
                    </li>
                  </ul>

                  <h6 id="anotherL" class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>Events</span>
                    <a class="d-flex align-items-center text-muted" href="#">
                        <span data-feather="plus-circle"></span>
                    </a>
                  </h6>

                  <ul class="nav flex-column mb-2">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="file-text" onclick="display_open_ports()"></span>
                            Ports
                        </a>
                    </li>
                            
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span data-feather="file-text"></span>
                            Errors
                        </a>
                    </li>
                  </ul>
                </div>
            </nav>

            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">Dashboard</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                      <div class="btn-group mr-2">
                        <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
                        <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
                      </div>
                        
                      <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
                        <span data-feather="calendar"></span>
                        This week
                      </button>
                    </div>
                </div>

                <div id="wrapper" class="">
                  <h4 class="header-availability">Availability Over the Past XX Hours</h4>
                  <div id="myTable" class="form-group my-table"></div>
                  <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>
                </div>

                <h2>VLAB Robot Configuration</h2>
                <div class="table-responsive">
                  <table class="table table-striped table-sm">
                    <thead>
                      <tr>
                        <th>Apply</th>
                        <th>Property</th>
                        <th>Current Value</th>
                        <th>New Value</th>
                        <th>Response</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>                          
                          <input type="checkbox" name="applyNow" value="apply" onclick="configure_robot()" autocomplete="off"> Now<br>
                        </td>
                        <td>Port-Scan</td>
                        <td>0-1000</td>
                        <td>
                          <form>
                            <input type="text" name="newConfig" autocomplete="off"><br>
                          </form>
                        </td>
                        <td>
                          <input type="text" id="robotResponse" value="" disabled style="border: none; border-color: transparent; width: 280px;" autocomplete="off">
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    
    <!--script>window.jQuery || document.write('<script src="/docs/4.2/assets/js/vendor/jquery-slim.min.js"><\/script>')</script><script src="/docs/4.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script-->
    <script>window.jQuery || document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"><\/script>')</script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    
    <!--script src="/docs/4.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-zDnhMsjVZfS3hiP7oCBRmfjkQC4fzxVxFhBx8Hkz2aZX8gEvA/jsP3eXRCvzTofP" crossorigin="anonymous"></script-->
    <!--script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
       
    <!--script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.16.0/feather.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.8.2/d3.js"></script>
       
    <script type="text/javascript" src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/ports_services_availability_monitor.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/scan_vlab_open_ports.js') }}"></script>
  </body>
</html>